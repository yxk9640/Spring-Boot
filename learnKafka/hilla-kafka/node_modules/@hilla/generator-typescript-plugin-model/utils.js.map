{
  "version": 3,
  "sources": ["src/utils.ts"],
  "sourcesContent": ["import type Plugin from '@hilla/generator-typescript-core/Plugin.js';\nimport type DependencyManager from '@hilla/generator-typescript-utils/dependencies/DependencyManager.js';\nimport ts, { type ArrowFunction, type Expression, type Identifier, type PropertyDeclaration } from 'typescript';\n\nexport type Context = Readonly<{\n  owner: Plugin;\n}>;\n\nexport const defaultMediaType = 'application/json';\n\nexport function importBuiltInFormModel(specifier: string, { imports, paths }: DependencyManager): Identifier {\n  const modelPath = paths.createBareModulePath('@hilla/form', false);\n  return imports.named.getIdentifier(modelPath, specifier) ?? imports.named.add(modelPath, specifier);\n}\n\nexport function createModelBuildingCallback(name: Identifier, args: readonly Expression[]): ArrowFunction {\n  const defaults = [ts.factory.createIdentifier('parent'), ts.factory.createIdentifier('key')];\n\n  return ts.factory.createArrowFunction(\n    undefined,\n    undefined,\n    defaults.map((arg) => ts.factory.createParameterDeclaration(undefined, undefined, arg)),\n    undefined,\n    ts.factory.createToken(ts.SyntaxKind.EqualsGreaterThanToken),\n    ts.factory.createNewExpression(name, undefined, [...defaults, ...args]),\n  );\n}\n\nexport function createEmptyValueMaker(maker: Identifier, model: Identifier): PropertyDeclaration {\n  return ts.factory.createPropertyDeclaration(\n    [ts.factory.createModifier(ts.SyntaxKind.StaticKeyword), ts.factory.createModifier(ts.SyntaxKind.OverrideKeyword)],\n    'createEmptyValue',\n    undefined,\n    undefined,\n    ts.factory.createCallExpression(maker, undefined, [model]),\n  );\n}\n"],
  "mappings": "AAEA,OAAO,YAA4F;AAM5F,MAAM,mBAAmB;AAEzB,SAAS,uBAAuB,WAAmB,EAAE,SAAS,MAAM,GAAkC;AAC3G,QAAM,YAAY,MAAM,qBAAqB,eAAe,KAAK;AACjE,SAAO,QAAQ,MAAM,cAAc,WAAW,SAAS,KAAK,QAAQ,MAAM,IAAI,WAAW,SAAS;AACpG;AAEO,SAAS,4BAA4B,MAAkB,MAA4C;AACxG,QAAM,WAAW,CAAC,GAAG,QAAQ,iBAAiB,QAAQ,GAAG,GAAG,QAAQ,iBAAiB,KAAK,CAAC;AAE3F,SAAO,GAAG,QAAQ;AAAA,IAChB;AAAA,IACA;AAAA,IACA,SAAS,IAAI,CAAC,QAAQ,GAAG,QAAQ,2BAA2B,QAAW,QAAW,GAAG,CAAC;AAAA,IACtF;AAAA,IACA,GAAG,QAAQ,YAAY,GAAG,WAAW,sBAAsB;AAAA,IAC3D,GAAG,QAAQ,oBAAoB,MAAM,QAAW,CAAC,GAAG,UAAU,GAAG,IAAI,CAAC;AAAA,EACxE;AACF;AAEO,SAAS,sBAAsB,OAAmB,OAAwC;AAC/F,SAAO,GAAG,QAAQ;AAAA,IAChB,CAAC,GAAG,QAAQ,eAAe,GAAG,WAAW,aAAa,GAAG,GAAG,QAAQ,eAAe,GAAG,WAAW,eAAe,CAAC;AAAA,IACjH;AAAA,IACA;AAAA,IACA;AAAA,IACA,GAAG,QAAQ,qBAAqB,OAAO,QAAW,CAAC,KAAK,CAAC;AAAA,EAC3D;AACF;",
  "names": []
}
